<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        table {
            width: 300px;
            height: 100px;
            border: 1px solid #000;
        }

        td,
        th {
            border: 1px solid #000;
        }
    </style>
</head>

<body>
    <table>
        <thead>
            <tr>
                <th>姓名</th>
                <th>年龄</th>
                <th>性别</th>
                <th>操作</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</body>

</html>
<script>
    // 根据指定的数据和html结构，使用js将数据加载到页面中
    var arr = [
        {
            name: 'Jack',
            age: 18,
            gender: '男'
        },
        {
            name: 'Rose',
            age: 20,
            gender: '女'
        },
        {
            name: 'Tom',
            age: 19,
            gender: '男'
        }
    ]
    var box = document.querySelector('tbody')
    function fn(){
        for (var i = 0; i < arr.length; i++) {
            box.innerHTML +=
                '<tr>'
                +
                '<td>' + arr[i].name + '</td>'
                +
                '<td>' + arr[i].age + '</td>'
                +
                '<td>' + arr[i].gender + '</td>'
                +
                '<td index="' + 'i' + '">删除</td>'
                // 绑定一个index              
                +
                '</tr>'
        }
        fun();
    }
    fn();
    //  删除
    function fun(){
        var del = document.querySelectorAll('td:last-child')
        for (var j = 0; j < del.length; j++) {
            del[j].onclick = function () {
                // console.log(123,j) 每次获取到的都是循环结束后的j为3
                var index = this.getAttribute('index')
                arr.splice(index, 1)  // 删除返回的新数组
                console.log(arr)

                // 重新放内容
                box.innerHTML = ""; // 每次删除完成度需要清空，不然会重新复赋值
                fn();

                // 只能删除一次，因为新的赋值会把之前的给替代掉了

            }
        }
    }
</script>